---
title: "[DVA-C02 #1] EC2와 인스턴스 스토리지"
description: "AWS DVA-C02 스터디 1편. EC2 인스턴스의 기본 개념부터 EBS, EFS, Instance Store까지 스토리지 옵션을 정리합니다."
publishedAt: 2025-04-01
category: "cloud"
tags: ["AWS", "DVA-C02", "EC2", "EBS", "EFS"]
---

> 이 글은 AWS Certified Developer Associate(DVA-C02) 자격증 스터디를 하며 정리한 시리즈입니다.

## EC2 (Elastic Compute Cloud)

EC2는 AWS가 제공하는 가상 컴퓨팅 리소스다. 물리 서버를 가상화하여 필요한 만큼의 CPU, 메모리를 할당받아 사용할 수 있다.

### AMI (Amazon Machine Image)

EC2 인스턴스를 생성할 때 사용하는 OS 템플릿이다. Amazon Linux, Ubuntu 등 사전 구성된 이미지를 선택하거나, 직접 만든 커스텀 AMI를 사용할 수 있다.

커스텀 AMI는 현재 인스턴스의 상태를 스냅샷으로 떠서 만들 수 있어, 동일한 환경의 인스턴스를 빠르게 복제할 때 유용하다.

### 인스턴스 유형

| 유형 | 특징 | 사용 사례 |
|------|------|-----------|
| General Purpose (t, m) | CPU/메모리 균형 | 웹 서버, 코드 저장소 |
| Compute Optimized (c) | 높은 CPU 성능 | 배치 처리, ML, 게임 서버 |
| Memory Optimized (r, x) | 대용량 메모리 | 인메모리 DB, 실시간 빅데이터 |
| Storage Optimized (i, d) | 높은 디스크 I/O | 데이터 웨어하우스, 분산 파일 시스템 |

### 구매 옵션

- **On-Demand**: 사용한 만큼 지불. 단기 워크로드에 적합.
- **Reserved**: 1~3년 약정으로 최대 72% 할인. 안정적인 워크로드에 적합.
- **Spot**: 여유 용량을 최대 90% 할인에 사용. 중단 가능한 작업에만.
- **Savings Plan**: 일정 사용량 약정으로 할인. Reserved보다 유연함.

### Security Group

인스턴스 레벨의 가상 방화벽이다. **Allow 규칙만** 설정 가능하며, 상태 기반(Stateful)이라 인바운드를 허용하면 해당 응답의 아웃바운드는 자동 허용된다.

자주 사용하는 포트:
- SSH: 22
- HTTP: 80
- HTTPS: 443
- RDP: 3389 (Windows)

## EBS (Elastic Block Store)

네트워크로 연결되는 블록 스토리지다. EC2 인스턴스가 중지되어도 데이터가 유지된다.

### 핵심 특징

- 네트워크 기반이라 물리적으로 인스턴스에 붙어있지 않다.
- **같은 AZ의 인스턴스에만 연결 가능**하다. 다른 AZ로 옮기려면 스냅샷을 떠서 복원해야 한다.
- 하나의 인스턴스에 여러 EBS를 붙일 수 있지만, 기본적으로 하나의 EBS는 하나의 인스턴스에만 연결된다.

### 볼륨 유형

**SSD 기반 (랜덤 I/O에 강함)**

| 유형 | 특징 | 최대 IOPS |
|------|------|-----------|
| gp2 | 범용. 용량에 비례하여 IOPS 증가 (3 IOPS/GB) | 16,000 |
| gp3 | 범용. IOPS와 처리량을 독립적으로 설정 가능 (기본 3,000 IOPS) | 16,000 |
| io1/io2 | 프로비저닝된 IOPS. DB 워크로드용 | 64,000 (io2 Block Express: 256,000) |

**HDD 기반 (순차 I/O에 강함)**

| 유형 | 특징 | 사용 사례 |
|------|------|-----------|
| st1 | 처리량 최적화 | 빅데이터, 로그 처리 |
| sc1 | 콜드 스토리지. 가장 저렴 | 접근 빈도 낮은 데이터 |

### EBS 스냅샷

EBS 볼륨의 백업이다. S3에 저장되며 AZ와 리전을 넘어 복제할 수 있다. 스냅샷으로부터 새로운 볼륨을 만들어 다른 AZ에서 사용하는 것이 일반적인 마이그레이션 방법이다.

### EBS Multi-Attach

io1/io2 볼륨에 한해 **여러 인스턴스가 동시에 하나의 볼륨에 접근**할 수 있다. 같은 AZ 내에서만 가능하며, 클러스터 파일 시스템(GFS2 등)을 사용해야 데이터 정합성을 보장할 수 있다.

## EC2 Instance Store

EC2 호스트 머신에 물리적으로 연결된 스토리지다.

- EBS보다 **훨씬 빠르다** (직접 연결이니까).
- 인스턴스가 중지/종료되면 **데이터가 사라진다** (임시 스토리지).
- 캐시, 버퍼, 임시 데이터 등 손실되어도 괜찮은 데이터에 적합하다.

## EFS (Elastic File System)

AWS가 관리하는 NFS(Network File System)다. EBS와 달리 **여러 AZ의 여러 인스턴스가 동시에 접근**할 수 있다.

### EBS vs EFS

| 구분 | EBS | EFS |
|------|-----|-----|
| 연결 | 단일 인스턴스 (Multi-Attach 예외) | 다수 인스턴스 동시 접근 |
| AZ | 단일 AZ | 멀티 AZ |
| 용량 | 생성 시 지정 | 자동 확장 |
| 프로토콜 | 블록 스토리지 | NFS |
| 비용 | 상대적으로 저렴 | 상대적으로 비쌈 |

### 스토리지 클래스

| 클래스 | 특징 |
|--------|------|
| Standard | 자주 접근하는 데이터. 빠르지만 비쌈 |
| Infrequent Access (IA) | 가끔 접근. 저장 비용은 낮지만 접근 비용 발생 |
| Archive | 거의 접근하지 않는 데이터 |
| One Zone | 단일 AZ. Standard 대비 47% 저렴 |

라이프사이클 정책을 설정하면 접근 패턴에 따라 자동으로 스토리지 클래스를 전환할 수 있다.

## 정리

| 스토리지 | 지속성 | 성능 | 공유 | 용도 |
|----------|--------|------|------|------|
| EBS | 영구 | 네트워크 | 단일 인스턴스 | OS 디스크, DB |
| Instance Store | 임시 | 최고 | 단일 인스턴스 | 캐시, 임시 데이터 |
| EFS | 영구 | 네트워크 | 다수 인스턴스 | 공유 파일 시스템 |

다음 글에서는 이 EC2 인스턴스들을 어떻게 안정적으로 운영하는지, ELB와 ASG를 다룬다.
